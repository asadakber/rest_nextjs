{"ast":null,"code":"import { PrismaClient } from '@prisma/client';\nconst prisma = new PrismaClient();\nexport default async function handle(req, res) {\n  const postId = req.query.id;\n\n  if (req.method === 'GET') {\n    handleGET(postId, res);\n  } else if (req.method === 'DELETE') {\n    handleDELETE(postId, res);\n  } else {\n    throw new Error(`The HTTP ${req.method} method is not supported at this route.`);\n  }\n}\n\nasync function handleGET(postId, res) {\n  const post = await prisma.post.findOne({\n    where: {\n      id: Number(postId)\n    },\n    include: {\n      User: true\n    }\n  });\n  res.json(post);\n}\n\nasync function handleDELETE(postId, res) {\n  const post = await prisma.post.delete({\n    where: {\n      id: Number(postId)\n    }\n  });\n  res.json(post);\n}","map":{"version":3,"sources":["E:/Projects/Prisma/SQLLITE/JAVASCRIPT/demo_app/pages/api/post/[id].js"],"names":["PrismaClient","prisma","handle","req","res","postId","query","id","method","handleGET","handleDELETE","Error","post","findOne","where","Number","include","User","json","delete"],"mappings":"AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,MAAMC,MAAM,GAAG,IAAID,YAAJ,EAAf;AAEA,eAAe,eAAeE,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC3C,QAAMC,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAUC,EAAzB;;AAEA,MAAGJ,GAAG,CAACK,MAAJ,KAAe,KAAlB,EAAyB;AACrBC,IAAAA,SAAS,CAACJ,MAAD,EAASD,GAAT,CAAT;AACH,GAFD,MAEO,IAAGD,GAAG,CAACK,MAAJ,KAAe,QAAlB,EAA4B;AAC/BE,IAAAA,YAAY,CAACL,MAAD,EAASD,GAAT,CAAZ;AACH,GAFM,MAEA;AACH,UAAM,IAAIO,KAAJ,CACD,YAAWR,GAAG,CAACK,MAAO,yCADrB,CAAN;AAGH;AACJ;;AAED,eAAeC,SAAf,CAAyBJ,MAAzB,EAAiCD,GAAjC,EAAsC;AAClC,QAAMQ,IAAI,GAAG,MAAMX,MAAM,CAACW,IAAP,CAAYC,OAAZ,CAAoB;AACnCC,IAAAA,KAAK,EAAE;AAACP,MAAAA,EAAE,EAAEQ,MAAM,CAACV,MAAD;AAAX,KAD4B;AAEnCW,IAAAA,OAAO,EAAE;AAACC,MAAAA,IAAI,EAAE;AAAP;AAF0B,GAApB,CAAnB;AAIAb,EAAAA,GAAG,CAACc,IAAJ,CAASN,IAAT;AACH;;AAED,eAAeF,YAAf,CAA4BL,MAA5B,EAAoCD,GAApC,EAAyC;AACrC,QAAMQ,IAAI,GAAG,MAAMX,MAAM,CAACW,IAAP,CAAYO,MAAZ,CAAmB;AAClCL,IAAAA,KAAK,EAAE;AAACP,MAAAA,EAAE,EAAEQ,MAAM,CAACV,MAAD;AAAX;AAD2B,GAAnB,CAAnB;AAGAD,EAAAA,GAAG,CAACc,IAAJ,CAASN,IAAT;AACH","sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst prisma = new PrismaClient()\r\n\r\nexport default async function handle(req, res) {\r\n    const postId = req.query.id\r\n\r\n    if(req.method === 'GET') {\r\n        handleGET(postId, res)\r\n    } else if(req.method === 'DELETE') {\r\n        handleDELETE(postId, res)\r\n    } else {\r\n        throw new Error(\r\n            `The HTTP ${req.method} method is not supported at this route.`\r\n        )\r\n    }\r\n}\r\n\r\nasync function handleGET(postId, res) {\r\n    const post = await prisma.post.findOne({\r\n        where: {id: Number(postId)},\r\n        include: {User: true}\r\n    })\r\n    res.json(post)\r\n}\r\n\r\nasync function handleDELETE(postId, res) {\r\n    const post = await prisma.post.delete({\r\n        where: {id: Number(postId)}\r\n    })\r\n    res.json(post)\r\n}"]},"metadata":{},"sourceType":"module"}